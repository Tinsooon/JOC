[gd_scene load_steps=26 format=2]

[ext_resource path="res://ESCENES/Fons+plataformes.gd" type="Script" id=1]
[ext_resource path="res://Sons/Canciones del Pou.wav" type="AudioStream" id=2]
[ext_resource path="res://ESCENES/AudioStreamPlayer.gd" type="Script" id=3]
[ext_resource path="res://Men√∫ pausa/Pause.tscn" type="PackedScene" id=4]
[ext_resource path="res://ESCENES/cors 2.tscn" type="PackedScene" id=5]
[ext_resource path="res://ESCENES/BarraEnergia.tscn" type="PackedScene" id=6]
[ext_resource path="res://TileMaps/BAJO TIERRA.png" type="Texture" id=7]
[ext_resource path="res://TileMaps/CASITA.png" type="Texture" id=8]
[ext_resource path="res://TileMaps/NUBESITAS.png" type="Texture" id=9]
[ext_resource path="res://bloques de tiles/TILES DEFINITIUS/Tiles/tile_0180.png" type="Texture" id=10]
[ext_resource path="res://rpgTile039.png" type="Texture" id=11]
[ext_resource path="res://ESCENES/TileMap.gd" type="Script" id=12]
[ext_resource path="res://Personatges+tot/PersonatgePrincipal.tscn" type="PackedScene" id=13]
[ext_resource path="res://ESCENES/trampoli.tscn" type="PackedScene" id=14]
[ext_resource path="res://punxes.tscn" type="PackedScene" id=15]
[ext_resource path="res://ESCENES/cactus.tscn" type="PackedScene" id=16]
[ext_resource path="res://ESCENES/pastanagues/escena pastanagues.tscn" type="PackedScene" id=17]
[ext_resource path="res://Escenes/Enemic_punxa.tscn" type="PackedScene" id=18]
[ext_resource path="res://Escenes/Camera2D.gd" type="Script" id=19]
[ext_resource path="res://ESCENES/Timer.gd" type="Script" id=20]

[sub_resource type="ConvexPolygonShape2D" id=1]
points = PoolVector2Array( 0, 0, 43, 0, 43, 38, 0, 38 )

[sub_resource type="ConvexPolygonShape2D" id=2]
points = PoolVector2Array( 0, 0, 45, 0, 45, 36, 0, 36 )

[sub_resource type="TileSet" id=3]
9/name = "tile_0180.png 9"
9/texture = ExtResource( 10 )
9/tex_offset = Vector2( 0, 0 )
9/modulate = Color( 1, 1, 1, 1 )
9/region = Rect2( 0, 0, 45, 36 )
9/tile_mode = 0
9/occluder_offset = Vector2( 0, 0 )
9/navigation_offset = Vector2( 0, 0 )
9/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 2 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
9/z_index = 0
12/name = "tile_0180.png 12"
12/texture = ExtResource( 10 )
12/tex_offset = Vector2( 0, 0 )
12/modulate = Color( 1, 1, 1, 1 )
12/region = Rect2( 0, 0, 32, 32 )
12/tile_mode = 0
12/occluder_offset = Vector2( 0, 0 )
12/navigation_offset = Vector2( 0, 0 )
12/shapes = [  ]
12/z_index = 0
13/name = "rpgTile039.png 13"
13/texture = ExtResource( 11 )
13/tex_offset = Vector2( 0, 0 )
13/modulate = Color( 1, 1, 1, 1 )
13/region = Rect2( 2, 5, 43, 38 )
13/tile_mode = 0
13/occluder_offset = Vector2( 0, 0 )
13/navigation_offset = Vector2( 0, 0 )
13/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 1 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
13/z_index = 0

[sub_resource type="Curve2D" id=4]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 240.013, 4181.06, 0, 0, 0, 0, 927.358, 4176.39, 2.39496, -4.78992, -2.39496, 4.78992, 237.61, 4188.96 )
}

[sub_resource type="GDScript" id=5]
script/source = "extends PathFollow2D

# Declare member variables here. Examples:
# var a = 2
# var b = \"text\"

# Called when the node enters the scene tree for the first time.
func _ready():
	pass # Replace with function body.

func _process(delta):
	offset+= (200*delta)

# Called every frame. 'delta' is the elapsed time since the previous frame.
#func _process(delta):
#	pass
"

[node name="Node2D" type="Node2D"]
position = Vector2( -140.665, -8.60309 )
script = ExtResource( 1 )

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 2 )
script = ExtResource( 3 )

[node name="pause" type="CanvasLayer" parent="."]

[node name="Node" parent="pause" instance=ExtResource( 4 )]

[node name="Node2" parent="pause" instance=ExtResource( 5 )]

[node name="BarraEnergia" parent="pause" instance=ExtResource( 6 )]
editor/display_folded = true

[node name="paisatge" type="Node2D" parent="."]
editor/display_folded = true

[node name="sotaterra" type="Sprite" parent="paisatge"]
position = Vector2( 582.828, 1642.02 )
scale = Vector2( 1.23516, 1 )
texture = ExtResource( 7 )
region_enabled = true
region_rect = Rect2( 8, -1464, 2388, 5312 )

[node name="terra" type="Sprite" parent="paisatge"]
position = Vector2( 559.648, -2031.31 )
scale = Vector2( 1.1821, 1.98012 )
texture = ExtResource( 8 )
region_enabled = true
region_rect = Rect2( -12, -8, 2480, 1032 )

[node name="cel" type="Sprite" parent="paisatge"]
position = Vector2( 566.462, -6591.29 )
scale = Vector2( 0.78046, 0.999258 )
texture = ExtResource( 9 )
region_enabled = true
region_rect = Rect2( 4, -2244, 3728, 7111.06 )

[node name="TileMap" type="TileMap" parent="paisatge"]
position = Vector2( 0, 2 )
tile_set = SubResource( 3 )
cell_size = Vector2( 36, 36 )
collision_layer = 4
collision_mask = 524319
format = 1
tile_data = PoolIntArray( -3670009, 13, 0, -3670008, 13, 0, -3670007, 13, 0, -3670006, 13, 0, -3670005, 13, 0, -3670004, 13, 0, -3670003, 13, 0, -3670002, 13, 0, -3473385, 13, 0, -3473384, 13, 0, -3473383, 13, 0, -3473382, 13, 0, -3473381, 13, 0, -3473380, 13, 0, -3473379, 13, 0, -3342318, 13, 0, -3342317, 13, 0, -3342316, 13, 0, -3342315, 13, 0, -3342314, 13, 0, -3342313, 13, 0, -3342312, 13, 0, -3342311, 13, 0, -2949111, 13, 0, -2949110, 13, 0, -2949109, 13, 0, -2949108, 13, 0, -2949107, 13, 0, -2949106, 13, 0, -2621419, 13, 0, -2621418, 13, 0, -2621417, 13, 0, -2621416, 13, 0, -2621415, 13, 0, -2621414, 13, 0, -2621413, 13, 0, -2621412, 13, 0, -2228214, 13, 0, -2228213, 13, 0, -2228212, 13, 0, -2228211, 13, 0, -2228210, 13, 0, -2228209, 13, 0, -1769454, 9, 0, -1769453, 9, 0, -1769452, 9, 0, -1769451, 9, 0, -1769450, 9, 0, -1769449, 9, 0, -1769448, 9, 0, -1769447, 9, 0, -1769446, 9, 0, -1769445, 9, 0, -1769444, 9, 0, -1769443, 9, 0, -1769442, 9, 0, -1376249, 9, 0, -1376248, 9, 0, -1376247, 9, 0, -1376246, 9, 0, -1376245, 9, 0, -1376244, 9, 0, -1376243, 9, 0, -1376242, 9, 0, -655354, 9, 0, -655353, 9, 0, -655352, 9, 0, -655351, 9, 0, -655350, 9, 0, -655349, 9, 0, -655348, 9, 0, -655347, 9, 0, -196592, 9, 0, -196591, 9, 0, -196590, 9, 0, -196589, 9, 0, -196588, 9, 0, -196587, 9, 0, -196586, 9, 0, -196585, 9, 0, -196584, 9, 0, -196583, 9, 0, 65547, 9, 0, 65548, 9, 0, 65549, 9, 0, 65550, 9, 0, 327685, 9, 0, 327686, 9, 0, 524299, 9, 0, 524300, 9, 0, 524301, 9, 0, 524302, 9, 0, 524303, 9, 0, 524304, 9, 0, 983058, 9, 0, 983059, 9, 0, 983060, 9, 0, 983061, 9, 0, 983062, 9, 0, 983063, 9, 0, 1441803, 9, 0, 1441804, 9, 0, 1441805, 9, 0, 1441806, 9, 0, 1441807, 9, 0, 1441808, 9, 0, 1638422, 9, 0, 1638423, 9, 0, 1638424, 9, 0, 1638425, 9, 0, 1638426, 9, 0, 1835018, 9, 0, 1835019, 9, 0, 1835020, 9, 0, 1835021, 9, 0, 1835022, 9, 0, 1835023, 9, 0, 1835024, 9, 0, 2293766, 9, 0, 2293767, 9, 0, 2293768, 9, 0, 2293769, 9, 0, 2359310, 9, 0, 2359311, 9, 0, 2490389, 9, 0, 2490390, 9, 0, 2490391, 9, 0, 2490392, 9, 0, 2490393, 9, 0, 2752525, 9, 0, 2752526, 9, 0, 2752527, 9, 0, 2752528, 9, 0, 2752529, 9, 0, 2752530, 9, 0, 3211271, 9, 0, 3211272, 9, 0, 3211273, 9, 0, 3211274, 9, 0, 3211275, 9, 0, 3211276, 9, 0, 3670031, 9, 0, 3670032, 9, 0, 3670033, 9, 0, 3670034, 9, 0, 3670035, 9, 0, 3670036, 9, 0, 3670037, 9, 0, 4128773, 9, 0, 4128774, 9, 0, 4128775, 9, 0, 4128776, 9, 0, 4128777, 9, 0, 4128778, 9, 0, 4128779, 9, 0, 4128780, 9, 0, 4521999, 9, 0, 4522000, 9, 0, 4522001, 9, 0, 4522002, 9, 0, 4522003, 9, 0, 4522004, 9, 0, 4522005, 9, 0, 4522006, 9, 0, 4980743, 9, 0, 4980744, 9, 0, 4980745, 9, 0, 4980746, 9, 0, 4980747, 9, 0, 4980748, 9, 0, 5308432, 9, 0, 5308433, 9, 0, 5308434, 9, 0, 5308435, 9, 0, 5308436, 9, 0, 5308437, 9, 0, 5308438, 9, 0, 5701639, 9, 0, 5701640, 9, 0, 5701641, 9, 0, 5701642, 9, 0, 5701643, 9, 0, 5701644, 9, 0, 5701645, 9, 0, 6160400, 9, 0, 6160401, 9, 0, 6160402, 9, 0, 6160403, 9, 0, 6160404, 9, 0, 6160405, 9, 0, 6160406, 9, 0, 6160407, 9, 0, 6553604, 9, 0, 6553605, 9, 0, 6553606, 9, 0, 6553607, 9, 0, 6553608, 9, 0, 6553609, 9, 0, 6553610, 9, 0, 6553611, 9, 0, 6946831, 9, 0, 6946832, 9, 0, 6946833, 9, 0, 6946834, 9, 0, 6946835, 9, 0, 6946836, 9, 0, 6946837, 9, 0, 6946838, 9, 0, 6946839, 9, 0, 7340037, 9, 0, 7340038, 9, 0, 7340039, 9, 0, 7340040, 9, 0, 7340041, 9, 0, 7340042, 9, 0, 7340043, 9, 0, 7733252, 9, 0, 7733253, 9, 0, 7733254, 9, 0, 7733255, 9, 0, 7733256, 9, 0, 7733257, 9, 0, 7733258, 9, 0, 7733259, 9, 0, 7733260, 9, 0, 7733261, 9, 0, 7733262, 9, 0, 7733263, 9, 0, 7733264, 9, 0, 7733265, 9, 0, 7733266, 9, 0, 7733267, 9, 0, 7733268, 9, 0, 7733269, 9, 0, 7733270, 9, 0, 7733271, 9, 0, 7733272, 9, 0, 7733273, 9, 0, 7733274, 9, 0, 7733275, 9, 0, 7798788, 9, 0, 7798789, 9, 0, 7798790, 9, 0, 7798791, 9, 0, 7798792, 9, 0, 7798793, 9, 0, 7798794, 9, 0, 7798795, 9, 0, 7798796, 9, 0, 7798797, 9, 0, 7798798, 9, 0, 7798799, 9, 0, 7798800, 9, 0, 7798801, 9, 0, 7798802, 9, 0, 7798803, 9, 0, 7798804, 9, 0, 7798805, 9, 0, 7798806, 9, 0, 7798807, 9, 0, 7798808, 9, 0, 7798809, 9, 0, 7798810, 9, 0, 7798811, 9, 0 )
script = ExtResource( 12 )

[node name="sprites" type="Node2D" parent="."]

[node name="conill" parent="sprites" instance=ExtResource( 13 )]
editor/display_folded = true
position = Vector2( 586.284, 4162.12 )
collision_mask = 30

[node name="AnimatedSprite" parent="sprites/conill" index="1"]
editor/display_folded = true
frame = 1

[node name="Area2D" parent="sprites/conill" index="4"]
editor/display_folded = true

[node name="trampoli" parent="sprites" instance=ExtResource( 14 )]
position = Vector2( 1017.98, -1959.67 )

[node name="trampoli2" parent="sprites" instance=ExtResource( 14 )]
position = Vector2( 774.256, -156.319 )

[node name="trampoli3" parent="sprites" instance=ExtResource( 14 )]
position = Vector2( 286.961, -2823.48 )

[node name="enemics xugos2" type="Node2D" parent="sprites"]

[node name="punxes" parent="sprites/enemics xugos2" instance=ExtResource( 15 )]
position = Vector2( 274.181, -388.005 )

[node name="mes punxes" parent="sprites/enemics xugos2" instance=ExtResource( 15 )]
position = Vector2( 785.883, 2457.86 )

[node name="mes mes punxes" parent="sprites/enemics xugos2" instance=ExtResource( 15 )]
position = Vector2( 196.825, 3572.97 )

[node name="mes mes punxes2" parent="sprites/enemics xugos2" instance=ExtResource( 15 )]
position = Vector2( 795.733, 2889.26 )

[node name="cactus" parent="sprites/enemics xugos2" instance=ExtResource( 16 )]
position = Vector2( 814.812, 501.225 )
collision_layer = 2
collision_mask = 13

[node name="cactus2" parent="sprites/enemics xugos2" instance=ExtResource( 16 )]
position = Vector2( 313.901, 2231.65 )
collision_layer = 2
collision_mask = 13

[node name="Pastanaga" parent="sprites" instance=ExtResource( 17 )]
position = Vector2( 712.416, 3776.62 )
monitorable = false
collision_layer = 16

[node name="Pastanaga4" parent="sprites" instance=ExtResource( 17 )]
position = Vector2( 814.215, 833.298 )
monitorable = false
collision_layer = 16

[node name="Pastanaga5" parent="sprites" instance=ExtResource( 17 )]
position = Vector2( 268.235, 1711.54 )
monitorable = false
collision_layer = 16

[node name="Pastanaga3" parent="sprites" instance=ExtResource( 17 )]
position = Vector2( 893.884, 1302.46 )
monitorable = false
collision_layer = 16

[node name="Pastanaga2" parent="sprites" instance=ExtResource( 17 )]
position = Vector2( 681.434, 2426.68 )
monitorable = false
collision_layer = 16

[node name="Path2D" type="Path2D" parent="sprites"]
position = Vector2( 1.60999, -198.845 )
scale = Vector2( 0.998264, 1.04761 )
curve = SubResource( 4 )

[node name="PathFollow2D" type="PathFollow2D" parent="sprites/Path2D"]
position = Vector2( 240.013, 4181.06 )
rotation = -0.0186453
rotate = false
script = SubResource( 5 )

[node name="enemic" parent="sprites/Path2D/PathFollow2D" instance=ExtResource( 18 )]
position = Vector2( 2.50412, -16.1763 )
collision_layer = 2
collision_mask = 5

[node name="Camera2D" type="Camera2D" parent="."]
current = true
limit_right = 1030
limit_bottom = 4300
script = ExtResource( 19 )

[node name="Timer" type="Timer" parent="."]
autostart = true
script = ExtResource( 20 )

[connection signal="finished" from="AudioStreamPlayer" to="." method="_on_AudioStreamPlayer_finished"]
[connection signal="canvia_vida" from="sprites/conill" to="pause/Node2" method="_on_conill_canvia_vida"]
[connection signal="screen_exited" from="sprites/conill/AnimatedSprite/VisibilityNotifier2D" to="Camera2D" method="_on_VisibilityNotifier2D_screen_exited"]
[connection signal="area_entered" from="sprites/trampoli" to="sprites/conill" method="_on_trampoli_area_entered"]
[connection signal="body_entered" from="sprites/trampoli" to="sprites/conill" method="_on_trampoli_body_entered"]
[connection signal="area_entered" from="sprites/trampoli2" to="sprites/conill" method="_on_trampoli_area_entered"]
[connection signal="body_entered" from="sprites/trampoli2" to="sprites/conill" method="_on_trampoli_body_entered"]
[connection signal="area_entered" from="sprites/trampoli3" to="sprites/conill" method="_on_trampoli_area_entered"]
[connection signal="body_entered" from="sprites/trampoli3" to="sprites/conill" method="_on_trampoli_body_entered"]
[connection signal="modifica_energia" from="Timer" to="pause/BarraEnergia" method="_on_Timer_modifica_energia"]
[connection signal="timeout" from="Timer" to="Timer" method="_on_Timer_timeout"]

[editable path="pause/BarraEnergia"]

[editable path="sprites/conill"]
